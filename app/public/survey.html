<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1>Match a Friend!</h1>
            <h3>Answer this survey and find new friends!</h3>
            <hr>
            <a href="/">
                <button type="button" class="btn btn-danger btn-lg"><span class="glyphicon glyphicon-eye-open"></span> View Tables</button>
            </a>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><strong>About you</strong></h3>
                    </div>
                    <div class="panel-body">
                        <form method="POST" role="form">
                            <div class="form-group">
                                <label for="name">Your Name (Required)</label>
                                <input type="text" class="form-control" id="name">
                            </div>
                            <div class="form-group">
                                <label for="photo">Link to Photo (Required)</label>
                                <input type="text" class="form-control" id="photo">
                            </div>
                            <hr>
                            <div class="form-group">
                                <label for="question1">Q1 - I love beer</label>
                                <select class="form-control" id="q01" name="score01">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="question2">Q2 Summer is my fav season</label>
                                 <select class="form-control" id="q02" name="score02">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                             <div class="form-group">
                                <label for="question3">Q3 - I am a native reader</label>
                                 <select class="form-control" id="q03" name="score03">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                             <div class="form-group">
                                <label for="question4">Q4 - Very into Disney movies</label>
                                 <select class="form-control" id="q04" name="score04">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                                   <div class="form-group">
                                <label for="question5">Q5 - I am a morning person</label>
                                 <select class="form-control" id="q05" name="score05">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                                   <div class="form-group">
                                <label for="question6">Q6 - I love the rain</label>
                                 <select class="form-control" id="q06" name="score06">
                                   <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                                  <div class="form-group">
                                <label for="question7">Q7 - I keep my friends close</label>
                                 <select class="form-control" id="q07" name="score07">
                                <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                                   <div class="form-group">?
                                <label for="question8">Q8 - I keep my enemies closer than my friends</label>
                                 <select class="form-control" id="q08" name="score08">
                                   <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                                   <div class="form-group">
                                <label for="question9">Q9 - I love my family</label>
                                 <select class="form-control" id="q09" name="score09">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                                   <div class="form-group">
                                <label for="question10">Q10 - I am a pet person</label>
                                 <select class="form-control" id="q10" name="score10">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>

                    </form>

                      <br>
                    <div class="text-right">
                        <button type="submit" class="btn btn-primary btn-md submit" id="add-btn"><span class="glyphicon glyphicon-fire"></span>Submit</button>
                    </div>

  <hr>
  <a href="/api/friends">API Friends List</a> | <a href="https://github.com/elsagomez/FriendFinder" target="_blank">GitHub Repo</a>


<br>
<br>

<footer>
<p>Friend finder</p>
</footer>

   
   <div id="friendMatch" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h2 class="modal-title">Best Match</h2>
      </div>
      <div class="modal-body">
        <h2 id="matchedFriend"></h2>
        <img id="matchedFriendImg" style="width:500px; height: auto;" alt="Match Friend">
      </div>
    </div>
  </div>
</div>

   <script
  src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" 
  crossorigin="anonymous"></script>

  <script type="text/javascript">

  $("#add-btn").on("click", function(){

    var newFriend = {
      name: $("#name").val().trim(),
      photo: $("#photo").val().trim(),
      scores: [$("#q01").val().trim(), $("#q02").val().trim(), $("#q03").val().trim(), $("#q04").val().trim(), $("#q05").val().trim(), $("#q06").val().trim(), $("#q07").val().trim(), $("#q08").val().trim(), $("#q09").val().trim(), $("#q10").val().trim(),]
    }
    console.log(newFriend);

    var currentURL = window.location.origin;

    $.post(currentURL + '/api/friends', newFriend, function(data){

      $("#matchedFriend").text(data.name);
      $("#matchedFriendImg").attr("src", data.photo);
      $("#friendMatch").modal("show");

    });
    return false;

  });

  </script>

</body>

</html>
